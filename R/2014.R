library(tibble)
library(readr)
library(lubridate)
library(here)

movies_db <- tribble(
  ~date_time, ~room, ~theatre, ~imdb_id,
  "2014-01-01 16:30", 8, "LILLE", "tt0359950",
  "2014-01-01 14:15", 2, "LILLE", "tt1091191",
  "2014-01-11 10:55", 2, "LILLE", "tt2431286",
  "2014-01-15 22:15", 4, "LILLE", "tt2545186",
  "2014-01-23 17:55", 11, "LILLE", "tt3433668",
  "2014-01-23 19:40", 9, "LILLE", "tt2013293",
  "2014-01-24 17:55", 4, "LILLE", "tt1661382",
  "2014-01-24 20:05", 3, "LILLE", "tt2442502",
  "2014-01-26 19:30", 1, "LILLE", "tt2024544",
  "2014-01-27 18:00", 14, "LILLE", "tt1206543",
  "2014-01-29 22:15", 12, "LILLE", "tt2382422",
  "2014-01-30 20:20", 4, "LILLE", "tt1205537",
  "2014-01-30 22:15", 11, "LILLE", "tt0790636",
  "2014-01-31 20:15", 8, "LILLE", "tt1418377",
  "2014-02-01 11:00", 6, "LILLE", "tt2368672",
  "2014-02-05 22:05", 6, "LILLE", "tt1234721",
  "2014-02-08 11:00", 6, "LILLE", "tt3112654",
  "2014-02-09 17:50", 11, "LILLE", "tt5693590",
  "2014-02-09 19:30", 1, "LILLE", "tt1800241",
  "2014-02-12 22:05", 8, "LILLE", "tt0864835",
  "2014-02-17 14:00", 1, "MAJESTIC", "tt2316801",
  "2014-02-14 20:05", 2, "LILLE", "tt2289526",
  "2014-02-14 22:00", 9, "LILLE", "tt3092076",
  "2014-02-19 22:15", 6, "LILLE", "tt1490017",
  "2014-02-26 22:25", 4, "LILLE", "tt2278388",
  "2014-02-27 19:45", 10, "LILLE", "tt1322269",
  "2014-02-27 21:50", 6, "LILLE", "tt3421514",
  "2014-03-01 10:55", 13, "LILLE", "tt2705326",
  "2014-03-01 20:20", 3, "LILLE", "tt2024469",
  "2014-03-01 22:20", 2, "LILLE", "tt3230092",
  "2014-03-05 22:15", 6, "LILLE", "tt1253863",
  "2014-03-08 10:50", 4, "LILLE", "tt2140373",
  "2014-03-08 18:00", 13, "LILLE", "tt3129564",
  "2014-03-12 22:15", 06, "LILLE", "tt2836252",
  "2014-03-18 16:45", 6, "LILLE", "tt2177771",
  "2014-03-21 13:50", 1, "LILLE", "tt3202408",
  "2014-03-21 15:40", 2, "LILLE", "tt1837709",
  "2014-03-23 11:00", 1, "LILLE", "tt1798709",
  "2014-03-26 22:15", 11, "LILLE", "tt2454430",
  "2014-03-27 19:30", 6, "LILLE", "tt1843866",
  "2014-03-29 13:40", 4, "MAJESTIC", "tt2280964",
  "2014-03-29 20:05", 14, "LILLE", "tt2172934",
  "2014-04-02 22:20", 8, "LILLE", "tt2536428",
  "2014-04-09 22:20", 11, "LILLE", "tt2258345",
  "2014-04-11 19:30", 6, "LILLE", "tt1959490",
  "2014-04-12 14:00", 3, "LILLE", "tt1840309",
  "2014-04-12 16:30", 12, "LILLE", "tt2571502",
  "2014-04-13 10:30", 8, "LILLE", "tt2357291",
  "2014-04-16 22:20", 1, "LILLE", "tt2800240",
  "2014-04-24 15:55", 4, "LILLE", "tt1430612",
  "2014-04-24 17:45", 8, "LILLE", "tt3013602",
  "2014-04-26 20:25", 3, "LILLE", "tt3202670",
  "2014-04-26 22:10", 6, "LILLE", "tt2760634",
  "2014-04-30 22:25", 4, "LILLE", "tt3202120",
  "2014-05-03 16:35", 8, "LILLE", "tt1872181",
  "2014-05-09 18:00", 11, "LILLE", "tt2976864",
  "2014-05-09 19:45", 14, "LILLE", "tt2382396",
  "2014-05-10 15:50", 13, "LILLE", "tt3136752",
  "2014-05-10 17:50", 5, "LILLE", "tt2806878",
  "2014-05-11 13:55", 2, "MAJESTIC", "tt1967545",
  "2014-05-25 19:40", 1, "LILLE", "tt1877832",
  "2014-05-25 22:00", 8, "LILLE", "tt0831387",
  "2014-05-31 13:30", 11, "LILLE", "tt2113681",
  "2014-06-01 15:35", 4, "MAJESTIC", "tt3178174",
  "2014-06-07 15:50", 6, "LILLE", "tt1631867",
  "2014-06-07 17:55", 9, "LILLE", "tt1587310",
  "2014-06-12 17:55", 11, "LILLE", "tt3104572",
  "2014-06-25 19:20", 12, "LILLE", "tt2576852",
  "2014-06-26 19:50", 1, "LILLE", "tt2209764",
  "2014-07-18 17:00", 6, "LILLE", "tt2109248",
  "2014-07-22 18:05", 9, "LILLE", "tt1646971",
  "2014-07-24 11:05", 7, "LILLE", "tt3499754",
  "2014-07-26 20:15", 10, "LILLE", "tt2975578",
  "2014-08-03 16:40", 6, "LILLE", "tt2103281",
  "2014-08-08 18:00", 9, "LILLE", "tt2872732",
  "2014-08-12 16:00", 4, "LILLE", "tt2004420",
  "2014-08-12 17:50", 6, "LILLE", "tt1980929",
  "2014-08-13 14:00", 4, "MAJESTIC", "tt2992146",
  "2014-08-13 16:00", 10, "LILLE", "tt2870708",
  "2014-08-14 16:00", 11, "LILLE", "tt2106361",
  "2014-08-16 14:00", 6, "LILLE", "tt2015381",
  "2014-08-24 10:55", 9, "LILLE", "tt2582846",
  "2014-08-24 19:30", 10, "LILLE", "tt2333784",
  "2014-08-26 18:05", 11, "LILLE", "tt3204144",
  "2014-08-26 19:50", 13, "LILLE", "tt2452254",
  "2014-08-27 17:30", 3, "MAJESTIC", "tt2391821",
  "2014-08-30 10:40", 8, "LILLE", "tt2316411",
  "2014-09-11 17:55", 9, "LILLE", "tt1956620",
  "2014-09-13 15:50", 1, "LILLE", "tt2788556",
  "2014-09-13 18:00", 6, "LILLE", "tt2891070",
  "2014-09-20 14:00", 12, "LILLE", "tt1972571",
  "2014-09-24 18:05", 12, "LILLE", "tt3242352",
  "2014-10-01 18:05", 6, "LILLE", "tt3433358",
  "2014-10-01 19:50", 12, "LILLE", "tt1528071",
  "2014-10-03 18:00", 9, "LILLE", "tt2978426",
  "2014-10-03 19:30", 11, "LILLE", "tt0455944",
  "2014-10-11 15:50", 2, "LILLE", "tt1726592",
  "2014-10-11 17:30", 9, "LILLE", "tt2267998",
  "2014-10-15 20:10", 8, "LILLE", "tt1291150",
  "2014-10-15 22:00", 13, "LILLE", "tt0365907",
  "2014-10-16 20:00", 9, "LILLE", "tt1790864",
  "2014-10-20 16:10", 10, "LILLE", "tt3322940",
  "2014-10-20 17:55", 9, "LILLE", "tt0787474",
  "2014-10-21 14:00", 1, "LILLE", "tt3399024",
  "2014-10-23 16:00", 12, "LILLE", "tt2870756",
  "2014-10-23 17:50", 9, "LILLE", "tt3022526",
  "2014-10-23 19:30", 6, "LILLE", "tt2713180",
  "2014-10-24 13:45", 5, "LILLE", "tt3985434",
  "2014-10-28 10:50", 2, "LILLE", "tt1872194",
  "2014-10-29 16:00", 1, "LILLE", "tt2911666",
  "2014-10-30 13:50", 11, "LILLE", "tt2402157",
  "2014-10-30 15:50", 12, "LILLE", "tt3480164",
  "2014-11-06 18:05", 4, "LILLE", "tt3184934",
  "2014-11-06 19:55", 11, "LILLE", "tt2515030",
  "2014-11-11 18:00", 9, "LILLE", "tt0816692",
  "2014-11-16 15:55", 14, "LILLE", "tt1247690",
  "2014-11-16 17:50", 11, "LILLE", "tt3365778",
  "2014-11-18 21:20", 3, "MAJESTIC", "tt2614684",
  "2014-11-21 18:00", 10, "LILLE", "tt3324494",
  "2014-11-21 19:45", 9, "LILLE", "tt1951265",
  "2014-11-23 14:00", 11, "LILLE", "tt2343793",
  "2014-11-23 16:30", 12, "LILLE", "tt3161960",
  "2014-11-25 20:20", 2, "MAJESTIC", "tt3612616",
  "2014-11-26 17:50", 1, "LILLE", "tt3759416",
  "2014-11-29 13:55", 3, "LILLE", "tt2872718",
  "2014-12-07 13:50", 9, "LILLE", "tt1109624",
  "2014-12-07 15:35", 7, "LILLE", "tt2177827",
  "2014-12-07 17:50", 1, "LILLE", "tt2935564",
  "2014-12-13 10:45", 1, "LILLE", "tt2310332",
  "2014-12-17 20:15", 12, "LILLE", "tt1911658",
  "2014-12-26 14:00", 9, "LILLE", "tt1528100",
  "2014-12-26 10:50", 1, "LILLE", "tt3547740"
)

write_csv(
  x = movies_db,
  path = here("data", unique(gsub("([0-9]{4})-.*", "\\1.csv", movies_db$date_time)))
)
