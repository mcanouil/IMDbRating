library(tibble)
library(readr)
library(lubridate)
library(here)

movies_db <- tribble(
  ~date_time, ~room, ~theatre, ~imdb_id,
  "2019-01-03 20:10", 12, "LILLE", "tt7534150",
  "2019-01-04 18:00", 1, "MAJESTIC", "tt5028340",
  "2019-01-05 15:20", 6, "LILLE", "tt4844148",
  "2019-01-11 17:50", 9, "LILLE", "tt7201846",
  "2019-01-12 13:50", 6, "LILLE", "tt6343314",
  "2019-01-13 13:40", 1, "LILLE", "tt8633950",
  "2019-01-17 18:00", 4, "LILLE", "tt7250056",
  "2019-01-18 19:20", 1, "LILLE", "tt6823368",
  "2019-01-19 16:20", 4, "MAJESTIC", "tt7545524",
  "2019-01-25 19:25", 7, "LILLE", "tt5437928",
  "2019-01-26 18:00", 11, "LILLE", "tt8003558",
  "2019-01-27 13:45", 9, "LILLE", "tt6966692",
  "2019-01-31 18:10", 1, "LILLE", "tt6556670",
  "2019-02-03 14:05", 4, "LILLE", "tt7959026",
  "2019-02-03 16:00", 9, "LILLE", "tt5848272",
  "2019-02-06 20:05", 4, "LILLE", "tt2386490",
  "2019-02-10 13:45", 11, "LILLE", "tt5083738",
  "2019-02-11 20:15", 9, "LILLE", "tt7882250",
  "2019-02-14 16:45", 8, "LILLE", "tt0437086",
  "2019-02-16 18:00", 12, "LILLE", "tt8129966",
  "2019-02-19 20:15", 2, "LILLE", "tt8523334",
  "2019-02-20 18:00", 4, "LILLE", "tt7936092",
  "2019-02-23 17:45", 12, "LILLE", "tt7799386",
  "2019-02-26 20:00", 11, "LILLE", "tt7552686",
  "2019-03-02 16:30", 7, "LILLE", "tt6266538",
  "2019-03-03 16:45", 12, "LILLE", "tt2328900",
  "2019-03-05 19:40", 3, "LILLE", "tt5719748",
  "2019-03-07 19:30", 1, "LILLE", "tt4154664",
  "2019-03-10 19:30", 3, "LILLE", "tt7458762",
  "2019-03-15 20:00", 2, "LILLE", "tt8263936",
  "2019-03-17 15:45", 11, "LILLE", "tt7682382",
  "2019-03-17 13:35", 2, "METROPOLE", "tt8696440",
  "2019-03-19 20:15", 9, "LILLE", "tt8083606",
  "2019-03-22 19:15", 10, "LILLE", "tt6857112",
  "2019-03-24 15:50", 14, "LILLE", "tt7961060",
  "2019-03-26 19:40", 7, "VDA", "tt7654880",
  "2019-03-31 16:30", 3, "LILLE", "tt4042818",
  "2019-04-02 20:00", 1, "LILLE", "tt3861390",
  "2019-04-07 15:35", 3, "LILLE", "tt5968394",
  "2019-04-14 15:30", 10, "LILLE", "tt0837563",
  "2019-04-15 19:15", 9, "LILLE", "tt0448115",
  "2019-04-16 20:05", 6, "LILLE", "tt9235038",
  "2019-04-19 20:50", 1, "METROPOLE", "tt8171974",
  "2019-04-20 15:15", 3, "METROPOLE", "tt5791098",
  "2019-04-21 13:40", 12, "LILLE", "tt6428676",
  "2019-04-22 17:35", 4, "MAJESTIC", "tt7089878",
  "2019-04-23 19:45", 10, "LILLE", "tt4913966",
  "2019-04-27 14:00", 14, "LILLE", "tt7831674",
  "2019-04-27 19:50", 5, "LILLE", "tt8265928",
  "2019-04-30 17:20", 1, "LILLE", "tt4154796",
  "2019-05-04 13:35", 4, "METROPOLE", "tt8896640",
  "2019-05-08 13:20", 10, "LILLE", "tt2274648",
  "2019-05-09 18:00", 1, "LILLE", "tt5884052",
  "2019-05-11 20:00", 9, "LILLE", "tt6918220",
  "2019-05-12 17:55", 2, "LILLE", "tt8110662",
  "2019-05-14 19:05", 3, "LILLE", "tt8201404",
  "2019-05-18 15:40", 1, "LILLE", "tt8695030",
  "2019-05-21 19:30", 13, "LILLE", "tt2139881",
  "2019-05-30 16:30", 8, "LILLE", "tt6146586",
  "2019-06-01 14:00", 6, "LILLE", "tt3741700",
  "2019-06-02 13:30", 11, "LILLE", "tt8655574",
  "2019-06-04 20:15", 1, "LILLE", "tt8193790",
  "2019-06-08 14:00", 1, "LILLE", "tt6565702",
  "2019-06-09 14:00", 11, "LILLE", "tt6139732",
  "2019-06-10 16:40", 9, "LILLE", "tt6751668",
  "2019-06-15 15:55", 11, "LILLE", "tt2639336",
  "2019-06-15 17:40", 1, "LILLE", "tt2283336",
  "2019-06-17 19:35", 12, "LILLE", "tt2066051",
  "2019-06-22 18:20", 1, "METROPOLE", "tt3361792",
  "2019-06-23 14:00", 4, "MAJESTIC", "tt5952594",
  "2019-06-27 17:55", 2, "LILLE", "tt10183616",
  "2019-06-30 20:15", 1, "LILLE", "tt1979376",
  "2019-07-02 20:00", 5, "VDA", "tt6483364",
  "2019-07-04 19:30", 6, "LILLE", "tt6320628",
  "2019-07-06 14:05", 10, "LILLE", "tt8600414",
  "2019-07-14 13:40", 6, "MAJESTIC", "tt9850064",
  "2019-07-16 19:30", 9, "LILLE", "tt7456310",
  "2019-07-18 17:55", 13, "LILLE", "tt1298644",
  "2019-07-19 19:55", 4, "LILLE", "tt8079248",
  "2019-07-21 13:35", 14, "LILLE", "tt5117428",
  "2019-07-21 20:10", 7, "LILLE", "tt7942936",
  "2019-07-23 20:00", 4, "LILLE", "tt9563632",
  "2019-07-27 13:40", 12, "LILLE", "tt8364368",
  "2019-07-30 19:40", 5, "LILLE", "tt8000718",
  "2019-08-01 16:15", 6, "LILLE", "tt5113040",
  "2019-08-04 16:00", 3, "MAJESTIC", "tt9116358",
  "2019-08-04 19:05", 4, "LILLE", "tt8772262",
  "2019-08-06 19:20", 5, "LILLE", "tt6105098",
  "2019-08-07 19:15", 1, "LILLE", "tt6806448",
  "2019-08-09 17:55", 5, "LILLE", "tt4199898",
  "2019-08-11 17:50", 8, "LILLE", "tt9777790",
  "2019-08-13 19:00", 6, "LILLE", "tt6806448",
  "2019-08-17 13:15", 2, "MAJESTIC", "tt7131622",
  "2019-08-17 18:45", 3, "MAJESTIC", "tt8076344",
  "2019-08-18 13:35", 2, "LILLE", "tt10208198",
  "2019-08-22 17:55", 8, "LILLE", "tt5822564",
  "2019-08-25 13:25", 11, "LILLE", "tt3387520",
  "2019-08-25 16:15", 8, "LILLE", "tt6095472",
  "2019-08-27 19:20", 9, "LILLE", "tt8359840",
  "2019-08-29 17:50", 14, "LILLE", "tt6107548",
  "2019-08-30 17:55", 12, "LILLE", "tt7798634",
  "2019-08-31 13:40", 4, "LILLE", "tt6189022",
  "2019-09-01 13:15", 6, "LILLE", "tt8783532",
  "2019-09-08 14:00", 2, "METROPOLE", "tt7534102",
  "2019-09-12 17:45", 10, "LILLE", "tt9811374",
  "2019-09-14 14:00", 1, "MAJESTIC", "tt10407272",
  "2019-09-19 10:30", 1, "LILLE", "tt2935510",
  "2019-09-19 16:25", 9, "LILLE", "tt10204366",
  "2019-09-22 13:30", 5, "LILLE", "tt7248248",
  "2019-09-24 16:20", 2, "METROPOLE", "tt8613070",
  "2019-09-26 20:00", 11, "LILLE", "tt7139936",
  "2019-09-29 15:40", 8, "LILLE", "tt1206885",
  "2019-10-01 19:45", 1, "VDA", "tt7139936",
  "2019-10-04 18:00", 8, "LILLE", "tt8903840",
  "2019-10-06 16:00", 8, "LILLE", "tt10533078",
  "2019-10-08 20:00", 9, "LILLE", "tt1025100",
  "2019-10-11 17:40", 8, "LILLE", "tt10204940",
  "2019-10-16 18:00", 11, "LILLE", "tt6193408",
  "2019-10-17 19:35", 8, "LILLE", "tt4777008",
  "2019-10-20 16:00", 11, "LILLE", "tt6324278",
  "2019-10-22 19:40", 1, "LILLE", "tt7286456",
  "2019-10-26 13:15", 7, "LILLE", "tt9372116",
  "2019-10-26 19:15", 2, "LILLE", "tt6398184",
  "2019-10-29 19:30", 10, "LILLE", "tt6450804",
  "2019-11-01 13:25", 4, "LILLE", "tt1560220",
  "2019-11-05 20:15", 8, "LILLE", "tt5606664",
  "2019-11-07 17:55", 10, "LILLE", "tt10143498",
  "2019-11-09 18:05", 5, "LILLE", "tt8655470",
  "2019-11-13 17:45", 10, "LILLE", "tt10039344",
  "2019-11-15 20:00", 8, "LILLE", "tt9151382",
  "2019-11-22 17:55", 10, "LILLE", "tt9454778",
  "2019-11-23 14:00", 4, "LILLE", "tt9172422",
  "2019-11-26 20:05", 6, "LILLE", "tt4520988",
  "2019-11-27 19:15", 3, "LILLE", "tt2398149",
  "2019-11-28 18:10", 10, "LILLE", "tt8623904",
  "2019-12-01 14:00", 8, "LILLE", "tt8338930",
  "2019-12-05 17:00", 2, "LILLE", "tt1950186",
  "2019-12-08 14:00", 1, "LILLE", "tt9284430",
  "2019-12-10 19:30", 6, "LILLE", "tt7975244",
  "2019-12-12 18:00", 14, "LILLE", "tt1620981",
  "2019-12-14 19:20", 4, "LILLE", "tt8946378",
  "2019-12-18 19:30", 12, "LILLE", "tt11013572",
  "2019-12-22 13:50", 6, "MAJESTIC", "tt7374926",
  "2019-12-25 14:00", 4, "LILLE", "tt10537978",
  "2019-12-25 15:35", 13, "LILLE", "tt5697572",
  "2019-12-26 10:40", 1, "LILLE", "tt2527338",
  "2019-12-27 14:00", 3, "LILLE", "tt5033998",
  "2019-12-27 19:00", 6, "MAJESTIC", "tt9426210",
  "2019-12-28 22:15", 11, "LILLE", "tt5814534",
  "2019-12-31 19:00", 2, "MAJESTIC", "tt7984734"
)

write_csv(
  x = movies_db,
  path = here("data", unique(gsub("([0-9]{4})-.*", "\\1.csv", movies_db$date_time)))
)
