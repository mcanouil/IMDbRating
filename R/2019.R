library(tibble)
library(readr)
library(lubridate)
library(here)

movies_db <- tribble(
  ~date_time, ~room, ~theatre,
  "2019-01-04 18:00", 1, "MAJESTIC",
  "2019-01-05 15:20", 6, "LILLE",
  "2019-01-11 17:50", 9, "LILLE",
  "2019-01-12 13:50", 6, "LILLE",
  "2019-01-13 13:40", 1, "LILLE",
  "2019-01-17 18:00", 4, "LILLE",
  "2019-01-18 19:20", 1, "LILLE",
  "2019-01-19 16:20", 4, "MAJESTIC",
  "2019-01-25 19:25", 7, "LILLE",
  "2019-01-26 18:00", 11, "LILLE",
  "2019-01-27 13:45", 9, "LILLE",
  "2019-01-31 18:10", 1, "LILLE",
  "2019-02-03 14:05", 4, "LILLE",
  "2019-02-03 16:00", 9, "LILLE",
  "2019-02-06 20:05", 4, "LILLE",
  "2019-02-10 13:45", 11, "LILLE",
  "2019-02-11 20:15", 9, "LILLE",
  "2019-02-14 16:45", 8, "LILLE",
  "2019-02-16 18:00", 12, "LILLE",
  "2019-02-19 20:15", 2, "LILLE",
  "2019-02-20 18:00", 4, "LILLE",
  "2019-02-23 17:45", 12, "LILLE",
  "2019-02-26 20:00", 11, "LILLE",
  "2019-03-02 16:30", 7, "LILLE",
  "2019-03-03 16:45", 12, "LILLE",
  "2019-03-05 19:40", 3, "LILLE",
  "2019-03-07 19:30", 1, "LILLE",
  "2019-03-10 19:30", 3, "LILLE",
  "2019-03-15 20:00", 2, "LILLE",
  "2019-03-17 15:45", 11, "LILLE",
  "2019-03-17 13:35", 2, "METROPOLE",
  "2019-03-19 20:15", 9, "LILLE",
  "2019-03-22 19:15", 10, "LILLE",
  "2019-03-24 15:50", 14, "LILLE",
  "2019-03-26 19:40", 7, "VDA",
  "2019-03-31 16:30", 3, "LILLE",
  "2019-04-02 20:00", 1, "LILLE",
  "2019-04-07 15:35", 3, "LILLE",
  "2019-04-14 15:30", 10, "LILLE",
  "2019-04-15 19:15", 9, "LILLE",
  "2019-04-16 20:05", 6, "LILLE",
  "2019-04-19 20:50", 1, "METROPOLE",
  "2019-04-20 15:15", 3, "METROPOLE",
  "2019-04-21 13:40", 12, "LILLE",
  "2019-04-22 17:35", 4, "MAJESTIC",
  "2019-04-23 19:45", 10, "LILLE",
  "2019-04-27 14:00", 14, "LILLE",
  "2019-04-27 19:50", 5, "LILLE",
  "2019-04-30 17:20", 1, "LILLE",
  "2019-05-04 13:35", 4, "LILLE",
  "2019-05-08 13:20", 10, "LILLE",
  "2019-05-09 18:00", 1, "LILLE",
  "2019-05-11 20:00", 9, "LILLE",
  "2019-05-12 17:55", 2, "LILLE",
  "2019-05-14 19:05", 3, "LILLE",
  "2019-05-18 15:40", 1, "LILLE",
  "2019-05-21 19:30", 13, "LILLE",
  "2019-05-30 16:30", 8, "LILLE",
  "2019-06-01 14:00", 6, "LILLE",
  "2019-06-02 13:30", 11, "LILLE",
  "2019-06-04 20:15", 1, "LILLE",
  "2019-06-08 14:00", 1, "LILLE",
  "2019-06-09 14:00", 11, "LILLE",
  "2019-06-10 16:40", 9, "LILLE",
  "2019-06-15 15:55", 11, "LILLE",
  "2019-06-15 17:40", 1, "LILLE",
  "2019-06-17 19:35", 12, "LILLE",
  "2019-06-22 18:20", 1, "METROPOLE",
  "2019-06-23 14:00", 4, "MAJESTIC",
  "2019-06-27 17:55", 2, "LILLE",
  "2019-06-30 20:15", 1, "LILLE",
  "2019-07-02 20:00", 5, "VDA",
  "2019-07-04 19:30", 6, "LILLE",
  "2019-07-06 14:05", 10, "LILLE",
  "2019-07-14 13:40", 6, "MAJESTIC",
  "2019-07-16 19:30", 9, "LILLE",
  "2019-07-18 17:55", 13, "LILLE",
  "2019-07-19 19:55", 4, "LILLE",
  "2019-07-21 13:35", 14, "LILLE",
  "2019-07-21 20:10", 7, "LILLE",
  "2019-07-23 20:00", 4, "LILLE",
  "2019-07-27 13:40", 12, "LILLE",
  "2019-07-30 19:40", 5, "LILLE",
  "2019-08-01 16:15", 6, "LILLE",
  "2019-08-04 16:00", 3, "MAJESTIC",
  "2019-08-04 19:05", 4, "LILLE",
  "2019-08-06 19:20", 5, "LILLE",
  "2019-08-07 19:15", 1, "LILLE",
  "2019-08-09 17:55", 5, "LILLE",
  "2019-08-11 17:50", 8, "LILLE",
  "2019-08-13 19:00", 6, "LILLE",
  "2019-08-17 13:15", 2, "MAJESTIC",
  "2019-08-17 18:45", 3, "MAJESTIC",
  "2019-08-18 13:35", 2, "LILLE",
  "2019-08-22 17:55", 8, "LILLE",
  "2019-08-25 13:25", 11, "LILLE",
  "2019-08-25 16:15", 8, "LILLE",
  "2019-08-27 19:20", 9, "LILLE",
  "2019-08-29 17:50", 14, "LILLE",
  "2019-08-30 17:55", 12, "LILLE",
  "2019-08-31 13:40", 4, "LILLE",
  "2019-09-01 13:15", 6, "LILLE",
  "2019-09-08 14:00", 2, "METROPOLE",
  "2019-09-12 17:45", 10, "LILLE",
  "2019-09-14 14:00", 1, "MAJESTIC",
  "2019-09-19 10:30", 1, "LILLE",
  "2019-09-19 16:25", 9, "LILLE",
  "2019-09-22 13:30", 5, "LILLE",
  "2019-09-24 16:20", 2, "METROPOLE",
  "2019-09-26 20:00", 11, "LILLE",
  "2019-09-29 15:40", 8, "LILLE",
  "2019-10-01 19:45", 1, "VDA",
  "2019-10-04 18:00", 8, "LILLE",
  "2019-10-06 16:00", 8, "LILLE",
  "2019-10-08 20:00", 9, "LILLE",
  "2019-10-11 17:40", 8, "LILLE",
  "2019-10-16 18:00", 11, "LILLE",
  "2019-10-17 19:35", 8, "LILLE",
  "2019-10-20 16:00", 11, "LILLE",
  "2019-10-22 19:40", 1, "LILLE",
  "2019-10-26 13:15", 7, "LILLE",
  "2019-10-26 19:15", 2, "LILLE",
  "2019-10-29 19:30", 10, "LILLE",
  "2019-11-01 13:25", 4, "LILLE",
  "2019-11-05 20:15", 8, "LILLE",
  "2019-11-07 17:55", 10, "LILLE",
  "2019-11-09 18:05", 5, "LILLE",
  "2019-11-13 17:45", 10, "LILLE",
  "2019-11-15 20:00", 8, "LILLE",
  "2019-11-22 17:55", 10, "LILLE",
  "2019-11-23 14:00", 4, "LILLE",
  "2019-11-26 20:05", 6, "LILLE",
  "2019-11-27 19:15", 3, "LILLE",
  "2019-11-28 18:10", 10, "LILLE",
  "2019-12-01 14:00", 8, "LILLE",
  "2019-12-05 17:00", 2, "LILLE",
  "2019-12-08 14:00", 1, "LILLE",
  "2019-12-10 19:30", 6, "LILLE",
  "2019-12-12 18:00", 14, "LILLE",
  "2019-12-14 19:20", 4, "LILLE",
  "2019-12-18 19:30", 12, "LILLE",
  "2019-12-22 13:50", 6, "MAJESTIC",
  "2019-12-25 14:00", 4, "LILLE",
  "2019-12-25 15:35", 13, "LILLE",
  "2019-12-26 10:40", 1, "LILLE",
  "2019-12-27 14:00", 3, "LILLE",
  "2019-12-27 19:00", 6, "MAJESTIC",
  "2019-12-28 22:15", 11, "LILLE",
  "2019-12-31 19:00", 2, "MAJESTIC"
)

write_csv(
  x = movies_db,
  path = here("data", unique(gsub("([0-9]{4})-.*", "\\1.csv", movies_db$date_time)))
)